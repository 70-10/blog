---
import ProductionOnly from "./ProductionOnly.astro";

const id = "G-GSE7S23LEP";
const gtagUrl = `https://www.googletagmanager.com/gtag/js?id=${id}`;
---

<ProductionOnly>
  <script is:inline type="text/partytown" async src={gtagUrl}></script>
  <script is:inline define:vars={{ id }} type="text/partytown">
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      window.dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", id);
  </script>
</ProductionOnly>
